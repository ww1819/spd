<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spd.foundation.mapper.FdMaterialStatusLogMapper">

    <resultMap id="FdMaterialStatusLogResult" type="com.spd.foundation.domain.FdMaterialStatusLog">
        <id    property="id"         column="id"/>
        <result property="materialId" column="material_id"/>
        <result property="action"     column="action"/>
        <result property="actionTime"  column="action_time"/>
        <result property="operator"   column="operator"/>
        <result property="reason"     column="reason"/>
    </resultMap>

    <insert id="insert" parameterType="com.spd.foundation.domain.FdMaterialStatusLog">
        INSERT INTO fd_material_status_log (id, material_id, action, action_time, operator, reason)
        VALUES (#{id}, #{materialId}, #{action}, #{actionTime}, #{operator}, #{reason})
    </insert>

    <select id="selectByMaterialId" resultMap="FdMaterialStatusLogResult">
        SELECT id, material_id, action, action_time, operator, reason
        FROM fd_material_status_log
        WHERE material_id = #{materialId}
        ORDER BY action_time DESC
    </select>
</mapper>
